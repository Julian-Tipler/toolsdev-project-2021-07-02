<p id="notice"><%= notice %></p>

<h1>Temperatures</h1>

<table>
  <thead>
    <tr>
      <th>Datetime</th>
      <th>Temperature</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>

  </tbody>
</table>

<div id="container" style="width:100%; height:400px;"></div>
<script>
let data = <%= @temperatures %>
document.addEventListener('DOMContentLoaded', () =>{
    Highcharts.chart('container', {
            title: {
                    text: 'Temperature'
            },
                xAxis: {
                        title: {
                                text: 'Date'
                        },
                        type: 'datetime'
                },
            yAxis: {
                    title: {
                            text: 'Temperature F'
                    }
            },
            legend: {
                    layout: 'vertical',
                    align: 'right',
                    verticalAlign: 'middle'
            },

            plotOptions: {
                    series: {
                            label: {
                                    connectorAllowed: false
                            },
                    }
            },

            series: [{
                    name: 'Austin HQ',
                    data: data
            }],

            responsive: {
                    rules: [{
                            condition: {
                                    maxWidth: 500
                            },
                            chartOptions: {
                                    legend: {
                                            layout: 'horizontal',
                                            align: 'center',
                                            verticalAlign: 'bottom'
                                    }
                            }
                    }]
            }

    });
})
</script>

<br>

<%= link_to 'New Temperature', new_temperature_path %>
